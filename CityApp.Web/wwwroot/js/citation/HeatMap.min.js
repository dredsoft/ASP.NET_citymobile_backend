function initMap(n,t){map=new google.maps.Map(document.getElementById("map"),{zoom:13,center:t,mapTypeId:"satellite"});heatmap=new google.maps.visualization.HeatmapLayer({data:n,map:map})}function toggleHeatmap(){heatmap.setMap(heatmap.getMap()?null:map)}function changeGradient(){heatmap.set("gradient",heatmap.get("gradient")?null:["rgba(0, 255, 255, 0)","rgba(0, 255, 255, 1)","rgba(0, 191, 255, 1)","rgba(0, 127, 255, 1)","rgba(0, 63, 255, 1)","rgba(0, 0, 255, 1)","rgba(0, 0, 223, 1)","rgba(0, 0, 191, 1)","rgba(0, 0, 159, 1)","rgba(0, 0, 127, 1)","rgba(63, 0, 91, 1)","rgba(127, 0, 63, 1)","rgba(191, 0, 31, 1)","rgba(255, 0, 0, 1)"])}function changeRadius(){heatmap.set("radius",heatmap.get("radius")?null:20)}function changeOpacity(){heatmap.set("opacity",heatmap.get("opacity")?null:.2)}var HeatMap={arr:[],DrawHeatMap:function(){var n=$("#CreatedFrom").val(),t=$("#CreatedTo").val(),i=$("#StatusId").val(),r=$("#AssignedToId").val(),u=$("#LicensePlate").val(),f=$("#ViolationTypeId").val(),e=$("#ViolationId").val();$.ajax({type:"POST",url:objCitation.CitationUrl,dataType:"json",data:{CreatedFrom:n,CreatedTo:t,StatusId:i,AssignedToId:r,LicensePlate:u,ViolationTypeId:f,ViolationId:e},success:function(n){var i,t;for(HeatMap.arr.length=0,t=0;t<=n.citationsListItem.length-1;t++)HeatMap.arr.push(new google.maps.LatLng(n.citationsListItem[t].latitude,n.citationsListItem[t].longitude));if(i="",n.citationsListItem.length>0)for(t=0;t<=n.citationsListItem.length-1;t++)if(n.citationsListItem[t].latitude!=0){i=new google.maps.LatLng(n.citationsListItem[t].latitude,n.citationsListItem[t].longitude);break}else i=new google.maps.LatLng(37.775,-122.434);else i=new google.maps.LatLng(37.775,-122.434);initMap(HeatMap.arr,i)},cache:!0})}};$(document).ready(function(){demo.initFormExtendedDatetimepickers();HeatMap.DrawHeatMap()});