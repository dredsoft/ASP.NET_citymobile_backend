var eventLocation,drawingManager,shapeOverlay,coords=[];$(document).ready(function(){eventLocation=new Vue({el:"#event-location",components:{},mounted:function(){},data:{isReadyToSave:!1,coordinates:[]},computed:{},methods:{draw:function(){var n=!0,t;coords.length&&(confirm("By continuing, you will delete your existing boundary.  Is that okay?")?shapeOverlay.setMap(null):n=!1);n&&(t=this,drawingManager=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:["polygon"]},polygonOptions:{strokeColor:"#FFF",strokeOpacity:.8,strokeWeight:2,fillColor:"#00bcd4",fillOpacity:.35}}),drawingManager.setMap(map),google.maps.event.addListener(drawingManager,"polygoncomplete",function(n){var r,i;for(shapeOverlay=n,r=n.getPath(),coords=[],i=0;i<r.length;i++)coords.push({order:i,latitude:r.getAt(i).lat(),longitude:r.getAt(i).lng()});t.isReadyToSave=!0;drawingManager.setDrawingMode(null)}))},clear:function(){confirm("You are about to delete your event boundary.  Are you sure?")&&(shapeOverlay.setMap(null),coords=[],ajaxService("POST",objEvent.DeleteCoords,null,function(){demo.showNotification("success","Boundary Deleted")}))},initMap:function(){map=new google.maps.Map(document.getElementById("event-map"),{zoom:16,center:new google.maps.LatLng(objEvent.lat,objEvent.long),mapTypeId:"hybrid"});ajaxService("GET",objEvent.GetCoords,null,function(n){var t=n.data;t.length&&(coords=[],$.each(t,function(n,t){coords.push({lat:t.latitude,lng:t.longitude})}),shapeOverlay=new google.maps.Polygon({paths:coords,strokeColor:"#FFF",strokeOpacity:.8,strokeWeight:2,fillColor:"#00bcd4",fillOpacity:.35}),shapeOverlay.setMap(map))})},submit:function(){var n=[];$.each(coords,function(t,i){n.push({EventId:objEvent.EventId,Order:i.order,Latitude:i.latitude,Longitude:i.longitude})});blockUI();ajaxService("POST",objEvent.AddCoords,JSON.stringify(n),function(){demo.showNotification("success","Boundary Created!");self.isReadyToSave=!1;unblockUI()},function(){})}}})});